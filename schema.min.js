(function(d){var b={_handlers:{}},a=navigator.userAgent,f=b.platform=/ip(ad|od|hone)/i.test(a)?"ios":/android/i.test(a)?"android":/Windows Phone/.test(a)?"windows phone":"desktop",h=b.browser=/Chrome/i.test(a)?"chrome":/Firefox/i.test(a)?"firefox":/Safari/i.test(a)?"safari":/Opera/i.test(a)?"opera":/MSIE|Trident/i.test(a)?"iexplorer":"other",k=function(b){var c=/^(?=[^&])(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/.exec(b);return{scheme:c[1],host:c[2],path:c[3],query:function(c){var b=
{};c=decodeURIComponent(c);c.replace(/([^=]+)=([^&]*)(&|$)/g,function(c,a,e){b[a]=e;return c});return b}(c[4]),fragment:c[5],toString:function(){return b}}};b.register=function(a,c){var g=function(b){var a="";"string"===typeof b?a=b:(b.preventDefault(),a=$(this).attr("href"));var d=function(){var b=k(a),d;d=c[f];if(d="function"==typeof d?d(b):d.replace(/{([^}]+)}/g,function(c,a){return a in b.query?b.query[a]:a in b?b[a]:a}))top.location.href=d},e;"ios"==f&&"ios"in c?(e=setTimeout(function(){d();
clearTimeout(e)},35),location.href=a):"android"==f&&"android"in c?"chrome"==h?e=setTimeout(function(){d();clearTimeout(e)},1E3):$("<iframe>").attr("src",a).hide().on("load",d).appendTo("body"):("web"in c&&!("desktop"in c)&&(c.desktop=c.web),d())};b._handlers[a]=g;var d='[href^="'+a+'"]';$(document).off("click",d,g).on("click",d,g)};b.navigate=function(a){for(var c in b._handlers)if(a.substring(0,c.length)==c){b._handlers[c](a);return}location.href=a};d.schema=b;d.register_schema=b.register})(this);