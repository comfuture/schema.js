!function(){var e=navigator.userAgent,f=/ip(ad|od|hone)/i.test(e)?"ios":/android/i.test(e)?"android":"web",k=function(b){var a=/^(?=[^&])(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/.exec(b);return{scheme:a[1],host:a[2],path:a[3],query:function(a){var c={};a=decodeURIComponent(a);a.replace(/([^=]+)=([^&]*)(&|$)/g,function(a,b,h){c[b]=h;return a});return c}(a[4]),fragment:a[5],toString:function(){return b}}};this.register_schema=function(b,a){$('[href^="'+b+'"]').off("click").on("click",
function(b){b.preventDefault();var c=$(this).attr("href"),g=function(){var b=k(c),d;d=a[f];if(d="function"==typeof d?d(b):d.replace(/{([^}]+)}/g,function(a,c){return c in b.query?b.query[c]:c in b?b[c]:c}))top.location.href=d};if("ios"==f&&"ios"in a){var e=setTimeout(function(){g();clearTimeout(e)},35);location.href=c}else"android"==f&&"android"in a?$("<iframe>").attr("src",c).hide().on("load",g).appendTo("body"):"web"in a&&g()})}}(this);
